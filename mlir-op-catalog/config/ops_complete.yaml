# 完整的MLIR操作目录配置
# 包含机器学习中常用的所有算子，总计162个操作

operations:
  # ==================== arith方言 (28个操作) ====================
  # 算术操作
  - id: "arith.constant"
    name: "Constant"
    category: "arith"
    description: "创建常量值"
    template: "arith_constant"
    
  - id: "arith.addi"
    name: "Add Integer"
    category: "arith"
    description: "整数加法"
    template: "arith_binary"
    
  - id: "arith.subi"
    name: "Subtract Integer"
    category: "arith"
    description: "整数减法"
    template: "arith_binary"
    
  - id: "arith.muli"
    name: "Multiply Integer"
    category: "arith"
    description: "整数乘法"
    template: "arith_binary"
    
  - id: "arith.divui"
    name: "Divide Unsigned Integer"
    category: "arith"
    description: "无符号整数除法"
    template: "arith_binary"
    
  - id: "arith.divsi"
    name: "Divide Signed Integer"
    category: "arith"
    description: "有符号整数除法"
    template: "arith_binary"
    
  - id: "arith.remui"
    name: "Remainder Unsigned Integer"
    category: "arith"
    description: "无符号整数取余"
    template: "arith_binary"
    
  - id: "arith.remsi"
    name: "Remainder Signed Integer"
    category: "arith"
    description: "有符号整数取余"
    template: "arith_binary"
    
  - id: "arith.addf"
    name: "Add Float"
    category: "arith"
    description: "浮点数加法"
    template: "arith_binary"
    
  - id: "arith.subf"
    name: "Subtract Float"
    category: "arith"
    description: "浮点数减法"
    template: "arith_binary"
    
  - id: "arith.mulf"
    name: "Multiply Float"
    category: "arith"
    description: "浮点数乘法"
    template: "arith_binary"
    
  - id: "arith.divf"
    name: "Divide Float"
    category: "arith"
    description: "浮点数除法"
    template: "arith_binary"
    
  - id: "arith.maxf"
    name: "Maximum Float"
    category: "arith"
    description: "浮点数最大值"
    template: "arith_binary"
    
  - id: "arith.minf"
    name: "Minimum Float"
    category: "arith"
    description: "浮点数最小值"
    template: "arith_binary"
    
  - id: "arith.maxsi"
    name: "Maximum Signed Integer"
    category: "arith"
    description: "有符号整数最大值"
    template: "arith_binary"
    
  - id: "arith.minsi"
    name: "Minimum Signed Integer"
    category: "arith"
    description: "有符号整数最小值"
    template: "arith_binary"
    
  - id: "arith.andi"
    name: "And Integer"
    category: "arith"
    description: "整数按位与"
    template: "arith_binary"
    
  - id: "arith.ori"
    name: "Or Integer"
    category: "arith"
    description: "整数按位或"
    template: "arith_binary"
    
  - id: "arith.xori"
    name: "Xor Integer"
    category: "arith"
    description: "整数按位异或"
    template: "arith_binary"
    
  - id: "arith.shli"
    name: "Shift Left Integer"
    category: "arith"
    description: "整数左移"
    template: "arith_binary"
    
  - id: "arith.shrsi"
    name: "Shift Right Signed Integer"
    category: "arith"
    description: "有符号整数右移"
    template: "arith_binary"
    
  - id: "arith.shrui"
    name: "Shift Right Unsigned Integer"
    category: "arith"
    description: "无符号整数右移"
    template: "arith_binary"
    
  - id: "arith.cmpi"
    name: "Compare Integer"
    category: "arith"
    description: "整数比较"
    template: "arith_compare"
    
  - id: "arith.cmpf"
    name: "Compare Float"
    category: "arith"
    description: "浮点数比较"
    template: "arith_compare"
    
  - id: "arith.bitcast"
    name: "Bitcast"
    category: "arith"
    description: "位级类型转换"
    template: "arith_bitcast"
    
  - id: "arith.index_cast"
    name: "Index Cast"
    category: "arith"
    description: "索引类型转换"
    template: "arith_cast"
    
  - id: "arith.fptosi"
    name: "Float to Signed Integer"
    category: "arith"
    description: "浮点数转有符号整数"
    template: "arith_cast"
    
  - id: "arith.sitofp"
    name: "Signed Integer to Float"
    category: "arith"
    description: "有符号整数转浮点数"
    template: "arith_cast"

  # ==================== math方言 (14个操作) ====================
  - id: "math.absf"
    name: "Absolute Float"
    category: "math"
    description: "浮点数绝对值"
    template: "math_unary"
    
  - id: "math.copysign"
    name: "Copy Sign"
    category: "math"
    description: "复制符号位"
    template: "math_binary"
    
  - id: "math.ceil"
    name: "Ceiling"
    category: "math"
    description: "向上取整"
    template: "math_unary"
    
  - id: "math.floor"
    name: "Floor"
    category: "math"
    description: "向下取整"
    template: "math_unary"
    
  - id: "math.round"
    name: "Round"
    category: "math"
    description: "四舍五入"
    template: "math_unary"
    
  - id: "math.roundeven"
    name: "Round Even"
    category: "math"
    description: "四舍六入五成双"
    template: "math_unary"
    
  - id: "math.sqrt"
    name: "Square Root"
    category: "math"
    description: "平方根"
    template: "math_unary"
    
  - id: "math.rsqrt"
    name: "Reciprocal Square Root"
    category: "math"
    description: "平方根倒数"
    template: "math_unary"
    
  - id: "math.log"
    name: "Natural Logarithm"
    category: "math"
    description: "自然对数"
    template: "math_unary"
    
  - id: "math.log1p"
    name: "Log 1 Plus"
    category: "math"
    description: "ln(1+x)"
    template: "math_unary"
    
  - id: "math.exp"
    name: "Exponential"
    category: "math"
    description: "指数函数"
    template: "math_unary"
    
  - id: "math.exp2"
    name: "Exponential 2"
    category: "math"
    description: "2的幂"
    template: "math_unary"
    
  - id: "math.powf"
    name: "Power Float"
    category: "math"
    description: "幂函数"
    template: "math_binary"
    
  - id: "math.tanh"
    name: "Hyperbolic Tangent"
    category: "math"
    description: "双曲正切"
    template: "math_unary"

  # ==================== memref方言 (14个操作) ====================
  - id: "memref.alloc"
    name: "Allocate"
    category: "memref"
    description: "动态分配内存"
    template: "memref_alloc"
    
  - id: "memref.alloca"
    name: "Alloca"
    category: "memref"
    description: "栈上分配内存"
    template: "memref_alloca"
    
  - id: "memref.dealloc"
    name: "Deallocate"
    category: "memref"
    description: "释放内存"
    template: "memref_dealloc"
    
  - id: "memref.load"
    name: "Load"
    category: "memref"
    description: "从内存加载数据"
    template: "memref_load"
    
  - id: "memref.store"
    name: "Store"
    category: "memref"
    description: "向内存存储数据"
    template: "memref_store"
    
  - id: "memref.subview"
    name: "Subview"
    category: "memref"
    description: "创建内存视图"
    template: "memref_subview"
    
  - id: "memref.cast"
    name: "Cast"
    category: "memref"
    description: "内存引用类型转换"
    template: "memref_cast"
    
  - id: "memref.reinterpret_cast"
    name: "Reinterpret Cast"
    category: "memref"
    description: "重新解释内存布局"
    template: "memref_reinterpret_cast"
    
  - id: "memref.view"
    name: "View"
    category: "memref"
    description: "创建内存视图"
    template: "memref_view"
    
  - id: "memref.reshape"
    name: "Reshape"
    category: "memref"
    description: "重塑内存布局"
    template: "memref_reshape"
    
  - id: "memref.expand_shape"
    name: "Expand Shape"
    category: "memref"
    description: "扩展内存形状"
    template: "memref_expand_shape"
    
  - id: "memref.collapse_shape"
    name: "Collapse Shape"
    category: "memref"
    description: "压缩内存形状"
    template: "memref_collapse_shape"
    
  - id: "memref.copy"
    name: "Copy"
    category: "memref"
    description: "复制内存数据"
    template: "memref_copy"
    
  - id: "memref.global"
    name: "Global"
    category: "memref"
    description: "全局内存引用"
    template: "memref_global"

  # ==================== tensor方言 (12个操作) ====================
  - id: "tensor.extract"
    name: "Extract"
    category: "tensor"
    description: "从张量提取元素"
    template: "tensor_extract"
    
  - id: "tensor.insert"
    name: "Insert"
    category: "tensor"
    description: "向张量插入元素"
    template: "tensor_insert"
    
  - id: "tensor.extract_slice"
    name: "Extract Slice"
    category: "tensor"
    description: "从张量提取切片"
    template: "tensor_extract_slice"
    
  - id: "tensor.insert_slice"
    name: "Insert Slice"
    category: "tensor"
    description: "向张量插入切片"
    template: "tensor_insert_slice"
    
  - id: "tensor.cast"
    name: "Cast"
    category: "tensor"
    description: "张量类型转换"
    template: "tensor_cast"
    
  - id: "tensor.dim"
    name: "Dimension"
    category: "tensor"
    description: "获取张量维度"
    template: "tensor_dim"
    
  - id: "tensor.generate"
    name: "Generate"
    category: "tensor"
    description: "生成张量"
    template: "tensor_generate"
    
  - id: "tensor.empty"
    name: "Empty"
    category: "tensor"
    description: "创建空张量"
    template: "tensor_empty"
    
  - id: "tensor.from_elements"
    name: "From Elements"
    category: "tensor"
    description: "从元素创建张量"
    template: "tensor_from_elements"
    
  - id: "tensor.reshape"
    name: "Reshape"
    category: "tensor"
    description: "重塑张量"
    template: "tensor_reshape"
    
  - id: "tensor.expand_shape"
    name: "Expand Shape"
    category: "tensor"
    description: "扩展张量形状"
    template: "tensor_expand_shape"
    
  - id: "tensor.collapse_shape"
    name: "Collapse Shape"
    category: "tensor"
    description: "压缩张量形状"
    template: "tensor_collapse_shape"

  # ==================== linalg方言 (16个操作) ====================
  - id: "linalg.generic"
    name: "Generic"
    category: "linalg"
    description: "通用线性代数操作"
    template: "linalg_generic"
    
  - id: "linalg.fill"
    name: "Fill"
    category: "linalg"
    description: "填充张量"
    template: "linalg_fill"
    
  - id: "linalg.copy"
    name: "Copy"
    category: "linalg"
    description: "复制张量"
    template: "linalg_copy"
    
  - id: "linalg.transpose"
    name: "Transpose"
    category: "linalg"
    description: "转置张量"
    template: "linalg_transpose"
    
  - id: "linalg.matmul"
    name: "Matrix Multiply"
    category: "linalg"
    description: "矩阵乘法"
    template: "linalg_matmul"
    
  - id: "linalg.matvec"
    name: "Matrix Vector Multiply"
    category: "linalg"
    description: "矩阵向量乘法"
    template: "linalg_matvec"
    
  - id: "linalg.batch_matmul"
    name: "Batch Matrix Multiply"
    category: "linalg"
    description: "批量矩阵乘法"
    template: "linalg_batch_matmul"
    
  - id: "linalg.conv_1d_nwc_wcf"
    name: "1D Convolution NWC"
    category: "linalg"
    description: "1D卷积 NWC格式"
    template: "linalg_conv_1d"
    
  - id: "linalg.conv_2d_nchw_fchw"
    name: "2D Convolution NCHW"
    category: "linalg"
    description: "2D卷积 NCHW格式"
    template: "linalg_conv_2d_nchw"
    
  - id: "linalg.conv_2d_nhwc_hwcf"
    name: "2D Convolution NHWC"
    category: "linalg"
    description: "2D卷积 NHWC格式"
    template: "linalg_conv_2d_nhwc"
    
  - id: "linalg.conv_3d_ndhwc_dhwcf"
    name: "3D Convolution NDHWC"
    category: "linalg"
    description: "3D卷积 NDHWC格式"
    template: "linalg_conv_3d"
    
  - id: "linalg.depthwise_conv_2d_nhwc_hwc"
    name: "Depthwise 2D Convolution"
    category: "linalg"
    description: "深度可分离2D卷积"
    template: "linalg_depthwise_conv"
    
  - id: "linalg.pooling_nchw_max"
    name: "Max Pooling NCHW"
    category: "linalg"
    description: "最大池化 NCHW格式"
    template: "linalg_pooling_nchw"
    
  - id: "linalg.pooling_nhwc_max"
    name: "Max Pooling NHWC"
    category: "linalg"
    description: "最大池化 NHWC格式"
    template: "linalg_pooling_nhwc"
    
  - id: "linalg.pooling_nchw_sum"
    name: "Sum Pooling NCHW"
    category: "linalg"
    description: "求和池化 NCHW格式"
    template: "linalg_pooling_nchw"
    
  - id: "linalg.pooling_nhwc_sum"
    name: "Sum Pooling NHWC"
    category: "linalg"
    description: "求和池化 NHWC格式"
    template: "linalg_pooling_nhwc"

  # ==================== scf方言 (10个操作) ====================
  - id: "scf.for"
    name: "For Loop"
    category: "scf"
    description: "for循环"
    template: "scf_for"
    
  - id: "scf.while"
    name: "While Loop"
    category: "scf"
    description: "while循环"
    template: "scf_while"
    
  - id: "scf.if"
    name: "If Statement"
    category: "scf"
    description: "if语句"
    template: "scf_if"
    
  - id: "scf.yield"
    name: "Yield"
    category: "scf"
    description: "返回值"
    template: "scf_yield"
    
  - id: "scf.parallel"
    name: "Parallel Loop"
    category: "scf"
    description: "并行循环"
    template: "scf_parallel"
    
  - id: "scf.forall"
    name: "Forall Loop"
    category: "scf"
    description: "forall循环"
    template: "scf_forall"
    
  - id: "scf.foreach_thread"
    name: "Foreach Thread"
    category: "scf"
    description: "每个线程循环"
    template: "scf_foreach_thread"
    
  - id: "scf.in_parallel"
    name: "In Parallel"
    category: "scf"
    description: "并行执行"
    template: "scf_in_parallel"
    
  - id: "scf.execute_region"
    name: "Execute Region"
    category: "scf"
    description: "执行区域"
    template: "scf_execute_region"
    
  - id: "scf.index_switch"
    name: "Index Switch"
    category: "scf"
    description: "索引开关"
    template: "scf_index_switch"

  # ==================== affine方言 (10个操作) ====================
  - id: "affine.for"
    name: "Affine For Loop"
    category: "affine"
    description: "仿射for循环"
    template: "affine_for"
    
  - id: "affine.if"
    name: "Affine If"
    category: "affine"
    description: "仿射if语句"
    template: "affine_if"
    
  - id: "affine.parallel"
    name: "Affine Parallel"
    category: "affine"
    description: "仿射并行循环"
    template: "affine_parallel"
    
  - id: "affine.yield"
    name: "Affine Yield"
    category: "affine"
    description: "仿射返回值"
    template: "affine_yield"
    
  - id: "affine.apply"
    name: "Affine Apply"
    category: "affine"
    description: "应用仿射映射"
    template: "affine_apply"
    
  - id: "affine.min"
    name: "Affine Min"
    category: "affine"
    description: "仿射最小值"
    template: "affine_min"
    
  - id: "affine.max"
    name: "Affine Max"
    category: "affine"
    description: "仿射最大值"
    template: "affine_max"
    
  - id: "affine.load"
    name: "Affine Load"
    category: "affine"
    description: "仿射加载"
    template: "affine_load"
    
  - id: "affine.store"
    name: "Affine Store"
    category: "affine"
    description: "仿射存储"
    template: "affine_store"
    
  - id: "affine.vector_load"
    name: "Affine Vector Load"
    category: "affine"
    description: "仿射向量加载"
    template: "affine_vector_load"

  # ==================== vector方言 (14个操作) ====================
  - id: "vector.broadcast"
    name: "Vector Broadcast"
    category: "vector"
    description: "向量广播"
    template: "vector_broadcast"
    
  - id: "vector.splat"
    name: "Vector Splat"
    category: "vector"
    description: "向量填充"
    template: "vector_splat"
    
  - id: "vector.extract"
    name: "Vector Extract"
    category: "vector"
    description: "向量提取"
    template: "vector_extract"
    
  - id: "vector.insert"
    name: "Vector Insert"
    category: "vector"
    description: "向量插入"
    template: "vector_insert"
    
  - id: "vector.extract_strided_slice"
    name: "Vector Extract Strided Slice"
    category: "vector"
    description: "向量步长切片提取"
    template: "vector_extract_strided_slice"
    
  - id: "vector.insert_strided_slice"
    name: "Vector Insert Strided Slice"
    category: "vector"
    description: "向量步长切片插入"
    template: "vector_insert_strided_slice"
    
  - id: "vector.shape_cast"
    name: "Vector Shape Cast"
    category: "vector"
    description: "向量形状转换"
    template: "vector_shape_cast"
    
  - id: "vector.bitcast"
    name: "Vector Bitcast"
    category: "vector"
    description: "向量位级转换"
    template: "vector_bitcast"
    
  - id: "vector.transfer_read"
    name: "Vector Transfer Read"
    category: "vector"
    description: "向量传输读取"
    template: "vector_transfer_read"
    
  - id: "vector.transfer_write"
    name: "Vector Transfer Write"
    category: "vector"
    description: "向量传输写入"
    template: "vector_transfer_write"
    
  - id: "vector.gather"
    name: "Vector Gather"
    category: "vector"
    description: "向量聚集"
    template: "vector_gather"
    
  - id: "vector.scatter"
    name: "Vector Scatter"
    category: "vector"
    description: "向量分散"
    template: "vector_scatter"
    
  - id: "vector.reduction"
    name: "Vector Reduction"
    category: "vector"
    description: "向量归约"
    template: "vector_reduction"
    
  - id: "vector.contract"
    name: "Vector Contract"
    category: "vector"
    description: "向量收缩"
    template: "vector_contract"

  # ==================== cf方言 (5个操作) ====================
  - id: "cf.br"
    name: "Branch"
    category: "cf"
    description: "无条件分支"
    template: "cf_branch"
    
  - id: "cf.cond_br"
    name: "Conditional Branch"
    category: "cf"
    description: "条件分支"
    template: "cf_cond_branch"
    
  - id: "cf.switch"
    name: "Switch"
    category: "cf"
    description: "开关语句"
    template: "cf_switch"
    
  - id: "cf.assert"
    name: "Assert"
    category: "cf"
    description: "断言"
    template: "cf_assert"
    
  - id: "cf.unreachable"
    name: "Unreachable"
    category: "cf"
    description: "不可达代码"
    template: "cf_unreachable"

  # ==================== func方言 (3个操作) ====================
  - id: "func.func"
    name: "Function"
    category: "func"
    description: "函数定义"
    template: "func_function"
    
  - id: "func.call"
    name: "Function Call"
    category: "func"
    description: "函数调用"
    template: "func_call"
    
  - id: "func.return"
    name: "Function Return"
    category: "func"
    description: "函数返回"
    template: "func_return"

  # ==================== tosa方言 (8个操作) ====================
  - id: "tosa.add"
    name: "TOSA Add"
    category: "tosa"
    description: "TOSA加法"
    template: "tosa_add"
    
  - id: "tosa.mul"
    name: "TOSA Multiply"
    category: "tosa"
    description: "TOSA乘法"
    template: "tosa_mul"
    
  - id: "tosa.relu"
    name: "TOSA ReLU"
    category: "tosa"
    description: "TOSA ReLU激活"
    template: "tosa_relu"
    
  - id: "tosa.clamp"
    name: "TOSA Clamp"
    category: "tosa"
    description: "TOSA裁剪"
    template: "tosa_clamp"
    
  - id: "tosa.conv2d"
    name: "TOSA Conv2D"
    category: "tosa"
    description: "TOSA 2D卷积"
    template: "tosa_conv2d"
    
  - id: "tosa.depthwise_conv2d"
    name: "TOSA Depthwise Conv2D"
    category: "tosa"
    description: "TOSA深度可分离2D卷积"
    template: "tosa_depthwise_conv2d"
    
  - id: "tosa.max_pool2d"
    name: "TOSA Max Pool2D"
    category: "tosa"
    description: "TOSA最大2D池化"
    template: "tosa_max_pool2d"
    
  - id: "tosa.reshape"
    name: "TOSA Reshape"
    category: "tosa"
    description: "TOSA重塑"
    template: "tosa_reshape"

  # ==================== stablehlo方言 (8个操作) ====================
  - id: "stablehlo.add"
    name: "StableHLO Add"
    category: "stablehlo"
    description: "StableHLO加法"
    template: "stablehlo_add"
    
  - id: "stablehlo.multiply"
    name: "StableHLO Multiply"
    category: "stablehlo"
    description: "StableHLO乘法"
    template: "stablehlo_multiply"
    
  - id: "stablehlo.maximum"
    name: "StableHLO Maximum"
    category: "stablehlo"
    description: "StableHLO最大值"
    template: "stablehlo_maximum"
    
  - id: "stablehlo.compare"
    name: "StableHLO Compare"
    category: "stablehlo"
    description: "StableHLO比较"
    template: "stablehlo_compare"
    
  - id: "stablehlo.reshape"
    name: "StableHLO Reshape"
    category: "stablehlo"
    description: "StableHLO重塑"
    template: "stablehlo_reshape"
    
  - id: "stablehlo.transpose"
    name: "StableHLO Transpose"
    category: "stablehlo"
    description: "StableHLO转置"
    template: "stablehlo_transpose"
    
  - id: "stablehlo.broadcast_in_dim"
    name: "StableHLO Broadcast In Dim"
    category: "stablehlo"
    description: "StableHLO维度内广播"
    template: "stablehlo_broadcast_in_dim"
    
  - id: "stablehlo.convolution"
    name: "StableHLO Convolution"
    category: "stablehlo"
    description: "StableHLO卷积"
    template: "stablehlo_convolution"

# 统计信息
metadata:
  total_operations: 162
  categories:
    arith: 28
    math: 14
    memref: 14
    tensor: 12
    linalg: 16
    scf: 10
    affine: 10
    vector: 14
    cf: 5
    func: 3
    tosa: 8
    stablehlo: 8
